"use strict";var express=require("express"),router=express.Router(),_require=require("../db/db"),find=_require.find,insert=_require.insert,remove=_require.remove,update=_require.update,_require2=require("../utils"),formatData=_require2.formatData,token=_require2.token;router.get("/juejin",function(e,r){var n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return r.append("Access-Control-Allow-Origin","*"),e.next=3,regeneratorRuntime.awrap(find("juejin"));case 3:n=e.sent,r.json(n);case 5:case"end":return e.stop()}})}),router.get("/boiling",function(e,r){var n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return r.append("Access-Control-Allow-Origin","*"),e.next=3,regeneratorRuntime.awrap(find("feidian"));case 3:n=e.sent,r.json(n);case 5:case"end":return e.stop()}})}),router.get("/talk",function(e,r){var n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return r.append("Access-Control-Allow-Origin","*"),e.next=3,regeneratorRuntime.awrap(find("huati"));case 3:n=e.sent,r.json(n);case 5:case"end":return e.stop()}})}),router.get("/brochure",function(e,r){var n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return r.append("Access-Control-Allow-Origin","*"),e.next=3,regeneratorRuntime.awrap(find("xiaoce"));case 3:n=e.sent,r.json(n);case 5:case"end":return e.stop()}})}),router.get("/activity",function(e,r){var n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return r.append("Access-Control-Allow-Origin","*"),e.next=3,regeneratorRuntime.awrap(find("huodong"));case 3:n=e.sent,r.send(n);case 5:case"end":return e.stop()}})}),router.post("/shopcar",function(r,n){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n.append("Access-Control-Allow-Origin","*"),t=r.body.id,e.prev=2,e.next=5,regeneratorRuntime.awrap(find("xiaoce",{id:t}));case 5:data=e.sent,n.send(data),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}},null,null,[[2,9]])}),router.post("/details",function(r,n){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n.append("Access-Control-Allow-Origin","*"),t=r.body.id,e.prev=2,e.next=5,regeneratorRuntime.awrap(find("juejin",{id:t}));case 5:data=e.sent,n.send(data),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}},null,null,[[2,9]])}),router.post("/user",function(r,n){var t,a,o,s;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n.append("Access-Control-Allow-Origin","*"),t=r.body,a=t.num,o=t.psw,console.log(a,o),e.prev=3,e.next=6,regeneratorRuntime.awrap(find("user",{num:a,psw:o}));case 6:s=(s=e.sent)[0],console.log(s),token.create(a),s?n.send(formatData({data:s})):n.send(formatData({code:0})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),n.send(formatData({code:0}));case 16:case"end":return e.stop()}},null,null,[[3,13]])}),router.post("/technologyfind",function(r,n){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n.append("Access-Control-Allow-Origin","*"),t=r.body.username,console.log(t),e.prev=3,e.next=6,regeneratorRuntime.awrap(find("wenti",{username:t}));case 6:data=e.sent,console.log(data),n.send(data),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:case"end":return e.stop()}},null,null,[[3,11]])}),router.post("/technology",function(r,n){var t,a,o,s,c;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:n.append("Access-Control-Allow-Origin","*"),t=r.body,a=t.username,o=t.textvalue,s=t.getData,c=t.huida,console.log(a,o,s,c);try{insert("wenti",[{username:a,textvalue:o,getData:s,huida:c}]),n.send(formatData())}catch(e){n.send(formatData({code:0}))}case 4:case"end":return e.stop()}})}),router.post("/complaint",function(r,n){var t,a,o,s;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:n.append("Access-Control-Allow-Origin","*"),t=r.body,a=t.username,o=t.textvalue,s=t.getData,console.log(a,o,s);try{insert("tousu",[{username:a,textvalue:o,getData:s}]),n.send(formatData())}catch(e){n.send(formatData({code:0}))}case 4:case"end":return e.stop()}})}),module.exports=router;